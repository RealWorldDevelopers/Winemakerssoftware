function IsAlphaNumeric(e){var t=0==e.keyCode?e.charCode:e.keyCode;return 32==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||-1!=specialKeys.indexOf(e.keyCode)&&e.charCode!=e.keyCode}function filterRecipes(){var e,t,a,i,n="",o=(t=(e=document.getElementById("recipeSearch")).value.toUpperCase()).split(" ");for(i=0;i<o.length;i++)if(""!=o[i]){var r=n,s="(?=.*\\b".concat(o[i],"\\w*\\b)");n=r.concat(s)}var p=n.concat(".*"),c=new RegExp(p,"i");for(a=document.getElementById("ulRecipes").getElementsByTagName("li"),i=1;i<a.length;i++){var l=a[i].classList;l.contains("w3-hide")&&l.remove("w3-hide");var u=a[i].textContent;u=u.replace(/(\W)/gm," x "),c.test(u)||l.add("w3-hide")}}function UpdateStarValue(e,t,a,i){$.ajax({url:"/html_form_vote.php",type:"POST",dataType:"text",data:{_csrfname:a,_csrfvalue:i,wineIndex:e,newRating:t}})}function optionswitch(e){""==$("#optionstore").text()&&$("#selectVariety option").each(function(){var e=$(this).val(),t=$(this).data("parent-id"),a=$(this).text();optionlist=$("#optionstore").text()+"@%"+e+"@%"+t+"@%"+a,$("#optionstore").text(optionlist)}),$("#selectVariety option").remove(),populateoption=rewriteoption(e),$("#selectVariety").html(populateoption)}function rewriteoption(e){var t=$("#optionstore").text().split("@%"),a=!1,i=e,n="";i=""!=e?i:"all";for(var o=3;o<t.length;o+=3)t[o-1]!=i&&"all"!=i&&"undefined"!=t[o-1]||(n=n+"<option "+(t[o].match("^Choose")?"disabled selected":"")+' value="'+t[o-2]+'" data-parent-id="'+t[o-1]+'">'+t[o]+"</option>",a=!0);if(a)return n}$(document).ready(function(){$(".rating").find("input:radio").change(function(){var e=$(this).val();UpdateStarValue($(this).parent().attr("id"),e,$("input[name='_csrfname']").val(),$("input[name='_csrfvalue']").val())}),$("#recipeSearch").keypress(function(e){return IsAlphaNumeric(e)}),$("#recipeSearch").keyup(function(e){filterRecipes(e)}),$("#recipeSearch").bind("paste",function(e){var t=this;setTimeout(function(){var e=$(t).val();$(t).val(e.replace(/[^ a-zA-Z0-9]/g,""))},100)}),$("#recipeSearch").bind("drop",function(e){var t=this;setTimeout(function(){var e=$(t).val();$(t).val(e.replace(/[^ a-zA-Z0-9]/g,""))},100)}),$("#selectCategory").change(function(){optionswitch($(this).val())})});var specialKeys=new Array;specialKeys.push(8),specialKeys.push(9),specialKeys.push(46),specialKeys.push(36),specialKeys.push(35),specialKeys.push(37),specialKeys.push(39),specialKeys.push(32);